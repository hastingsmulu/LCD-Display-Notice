# LCD-Display-Notice
# Pico W Web Server for LCD Control

This MicroPython code runs a web server on a Raspberry Pi Pico W, allowing users to control a 16x2 LCD display connected to the Pico W via a simple web interface.

## Functionality

1.  **LCD Initialization:**
    * Initializes a 16x2 LCD display using the `lcd.py` library (assumed to be in the same directory).
    * Defines the GPIO pins connected to the LCD's RS, EN, and data lines (D4-D7).
    * Clears the LCD screen upon startup.

2.  **Wi-Fi Connection:**
    * The `connect_wifi()` function establishes a connection to a specified Wi-Fi network using the provided `SSID` and `PASSWORD`.
    * It attempts to connect for a maximum of 10 seconds and raises a `RuntimeError` if the connection fails.
    * Upon successful connection, it prints "connected" and the assigned IP address to the serial console.

3.  **Web Page Generation:**
    * The `web_page(lcd_line1, lcd_line2)` function generates the HTML content for the web interface.
    * It takes the current content of the two LCD lines as input.
    * The HTML includes:
        * A title "Pico W LCD Control".
        * Two textareas (`<textarea>`) where users can input the text for the two LCD lines. The current LCD content is pre-filled in these textareas.
        * A submit button ("Update LCD") that sends a GET request to the server with the new text for `line1` and `line2`.
        * A status section displaying the "Current LCD Content".

4.  **Web Server (`serve(ip)`):**
    * Creates a socket and binds it to port 80 (the standard HTTP port) on all available interfaces (`'0.0.0.0'`).
    * Starts listening for incoming client connections.
    * Initializes the LCD with the text "Pico W LCD" on the first line and "Web Control" on the second line.
    * Enters a `while True:` loop to handle incoming client requests:
        * Accepts a client connection and prints the client's address.
        * Receives the HTTP request data (up to 1024 bytes).
        * Parses the GET parameters from the request string to find the values of `line1` and `line2`.
        * If `line1` and `line2` parameters are found:
            * Extracts the text for each line, replaces '+' characters with spaces (as they are used in URL encoding), and truncates the text to a maximum of 16 characters to fit the LCD.
            * Clears the LCD and writes the new `lcd_line1` to the first line and `lcd_line2` to the second line.
        * Constructs an HTTP response with a "200 OK" status and sets the `Content-type` to `text/html`.
        * Sends the HTML content generated by the `web_page()` function back to the client.
        * Closes the client connection.
        * Includes error handling to catch exceptions during request processing and close the connection.

5.  **Main Execution (`try...except` block):**
    * Calls `connect_wifi()` to connect to the Wi-Fi network.
    * If the connection is successful, it calls `serve()` to start the web server, passing the Pico W's IP address.
    * Includes `try...except` blocks to handle potential errors:
        * `KeyboardInterrupt`: Clears the LCD and displays "Goodbye!" before exiting if the user interrupts the script (e.g., with Ctrl+C).
        * `Exception`: Catches other errors, displays an "Error occurred" message on the LCD along with a truncated error message, and then clears the LCD after a few seconds.

In essence, this code sets up a web server on the Pico W. Once connected to the same Wi-Fi network, users can access the Pico W's IP address in a web browser. The web page displayed allows them to enter text in two fields and click "Update LCD" to display that text on the physical LCD screen connected to the Pico W.
